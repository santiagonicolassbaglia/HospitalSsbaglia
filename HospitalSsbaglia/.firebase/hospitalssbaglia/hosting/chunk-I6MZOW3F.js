import{a as A}from"./chunk-U4O4KU6Q.js";import{a as U}from"./chunk-CBWNEQSN.js";import{b as D,d as H,g as w,s as k}from"./chunk-WQDWLB3F.js";import{d as F}from"./chunk-Q3TEWXKA.js";import{h as y,i as I,k as O}from"./chunk-TQDNXVMP.js";import{Ga as o,Ha as h,Ua as m,Wa as g,Ya as l,Za as e,cb as _,fa as v,fb as n,hb as p,ia as C,jb as b,kb as E,lb as M,nb as P,ob as T,pb as u,rb as x,sb as S}from"./chunk-75HCPL27.js";var B=(()=>{let t=class t{transform(i,s=!1){return!i||i.length===0?[]:s?i.sort((r,d)=>new Date(d.fecha).getTime()-new Date(r.fecha).getTime()).slice(0,3):i}};t.\u0275fac=function(s){return new(s||t)},t.\u0275pipe=C({name:"ultimosTresTurnos",type:t,pure:!0,standalone:!0});let a=t;return a})();var N=()=>["fecha","nombrePaciente","altura","peso","temperatura","presion"];function W(a,t){a&1&&(l(0,"div")(1,"p"),n(2,"No hay historias cl\xEDnicas para mostrar."),e()())}function j(a,t){if(a&1&&(l(0,"div")(1,"p")(2,"strong"),n(3),e(),n(4),e()()),a&2){let c=t.$implicit;o(3),p("",c.clave,":"),o(),p(" ",c.valor,"")}}function z(a,t){if(a&1&&(l(0,"div",6)(1,"p")(2,"strong"),n(3,"Fecha:"),e(),n(4),u(5,"date"),e(),l(6,"p")(7,"strong"),n(8,"Paciente:"),e(),n(9),e(),l(10,"p")(11,"strong"),n(12,"Altura:"),e(),n(13),e(),l(14,"p")(15,"strong"),n(16,"Peso:"),e(),n(17),e(),l(18,"p")(19,"strong"),n(20,"Temperatura:"),e(),n(21),e(),l(22,"p")(23,"strong"),n(24,"Presi\xF3n:"),e(),n(25),e(),m(26,j,5,2,"div",7),e()),a&2){let c=t.$implicit;o(4),p(" ",x(5,7,c.fecha,"short"),""),o(5),p(" ",c.nombrePaciente,""),o(4),p(" ",c.altura," cm"),o(4),p(" ",c.peso," kg"),o(4),p(" ",c.temperatura," \xB0C"),o(4),p(" ",c.presion,""),o(),g("ngForOf",c.datosDinamicos)}}var Y=(()=>{let t=class t{constructor(i,s){this.authService=i,this.historiaClinicaService=s,this.historiasClinicas=[],this.especialistaId="",this.filtroGeneral="",this.mostrarUltimasTres=!1}ngOnInit(){this.authService.getCurrentUser().subscribe(i=>{i&&(this.especialistaId=i.uid,this.cargarHistoriasClinicas(this.especialistaId))})}cargarHistoriasClinicas(i){this.historiaClinicaService.obtenerHistoriasPorEspecialista(i).subscribe(s=>{this.historiasClinicas=s.map(r=>{let d=r.payload.doc.data();return d.id=r.payload.doc.id,d.fecha=this.convertTimestampToDate(d.fecha),d})})}convertTimestampToDate(i){return i instanceof Date?i:i.toDate()}};t.\u0275fac=function(s){return new(s||t)(h(F),h(A))},t.\u0275cmp=v({type:t,selectors:[["app-hist-clinica-especialista"]],standalone:!0,features:[P],decls:11,vars:12,consts:[[1,"contenedor"],[4,"ngIf"],[1,"filtros"],["type","text","placeholder","Buscar...",3,"ngModelChange","ngModel"],[1,"botonUltimosAtendidos",3,"click"],["class","historia-clinica",4,"ngFor","ngForOf"],[1,"historia-clinica"],[4,"ngFor","ngForOf"]],template:function(s,r){s&1&&(l(0,"div",0)(1,"h2"),n(2,"Historias Cl\xEDnicas (Especialista)"),e(),m(3,W,3,0,"div",1),l(4,"div",2)(5,"input",3),M("ngModelChange",function(f){return E(r.filtroGeneral,f)||(r.filtroGeneral=f),f}),e(),l(6,"button",4),_("click",function(){return r.mostrarUltimasTres=!r.mostrarUltimasTres}),n(7),e()(),m(8,z,27,10,"div",5),u(9,"filtrarDatos"),u(10,"ultimosTresTurnos"),e()),s&2&&(o(3),g("ngIf",r.historiasClinicas.length===0),o(2),b("ngModel",r.filtroGeneral),o(2),p(" ",r.mostrarUltimasTres?"Mostrar Todas":"Mostrar Historia de \xFAltimos 3 pacientes atendidos "," "),o(),g("ngForOf",x(10,8,S(9,4,r.historiasClinicas,T(11,N),r.filtroGeneral),r.mostrarUltimasTres)))},dependencies:[O,y,I,k,D,H,w,U,B],styles:[".contenedor[_ngcontent-%COMP%]{width:80%;margin:0 auto;padding:20px;border:1px solid #000000;border-radius:5px;box-shadow:0 2px 5px #000;background-color:#0b7a7a58}h2[_ngcontent-%COMP%]{text-align:center;font-size:24px;margin-bottom:20px}.historia-clinica[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:5px;padding:15px;margin-bottom:15px}.historia-clinica[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:5px}.historia-clinica[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}.datos-dinamicos[_ngcontent-%COMP%]{margin-top:10px}.datos-dinamicos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.botonUltimosAtendidos[_ngcontent-%COMP%]{margin-top:20px;margin-left:10px;color:#deb887;background-color:#0b7a7a;border:1px solid #0b7a7a;border-radius:5px;padding:5px 10px;cursor:pointer}.checkbox[_ngcontent-%COMP%]{display:inline-block;margin-right:10px}"]});let a=t;return a})();export{Y as a};
