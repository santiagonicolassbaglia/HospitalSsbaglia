import{O as B,b as P,g as O,h as w,j as x,k as L,m as W,n as I,o as j,p as F,q as N,x as G,y as T}from"./chunk-EHPRMDRE.js";import{$a as u,Ba as c,Ca as b,Oa as y,Qa as M,Ta as e,Ua as n,Va as s,Wa as d,Xa as S,Ya as r,Za as E,ab as p,bb as f,ca as _,db as k,fa as C,ta as v}from"./chunk-7PBKTP3G.js";import{e as h}from"./chunk-LYQJE5UA.js";function A(m,l){if(m&1&&(e(0,"div",18),r(1),n()),m&2){let U=S();c(),E(U.mensajeError)}}var $=(()=>{let l=class l{constructor(i,a){this.router=i,this.authService=a,this.mail="",this.clave="",this.mensajeError="",this.recordarme=!1,this.fb=_(G),this.nombreUsuarioEmitido=new v}ngOnInit(){this.authService.esAdmin=!1;let i=localStorage.getItem("usuarioGuardado");if(i){let a=JSON.parse(i);this.mail=a.mail,this.clave=a.clave,this.recordarme=!0}}login(){return h(this,null,function*(){try{yield this.authService.login(this.mail,this.clave),this.router.navigateByUrl("home")}catch(i){console.log("Error de inicio de sesi\xF3n:",i),this.mensajeError="El correo electr\xF3nico o la contrase\xF1a son incorrectos"}})}usuarioPorDefecto(){this.mail="santiii@gmail.com",this.clave="123456",this.authService.esAdmin=!0}loginWithGoogle(){return h(this,null,function*(){try{yield this.authService.loginWithGoogle(),this.router.navigateByUrl("/home")}catch(i){console.log("Error de inicio de sesi\xF3n con Google:",i)}})}};l.\u0275fac=function(a){return new(a||l)(b(O),b(B))},l.\u0275cmp=C({type:l,selectors:[["app-login"]],outputs:{nombreUsuarioEmitido:"nombreUsuarioEmitido"},standalone:!0,features:[k],decls:32,vars:4,consts:[[1,"form-signin"],[3,"ngSubmit"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","id","email","placeholder","Email","name","email",1,"form-control",3,"ngModelChange","ngModel"],["for","email"],["type","password","id","claveLogin","placeholder","Contrase\xF1a","name","clave",1,"form-control",3,"ngModelChange","ngModel"],["for","claveLogin"],["type","button",1,"w-100","btn","btn-lg","btn-primary",3,"click"],["class","error",4,"ngIf"],["type","submit",1,"w-100","btn","btn-lg","btn-primary"],[1,"form-check","mb-3"],["type","checkbox","value","","id","recordarme","name","recordarme",1,"form-check-input",3,"ngModelChange","ngModel"],["for","recordarme",1,"form-check-label"],[1,"text-center","mt-3"],["type","button",1,"btn","btn-lg","btn-primary",3,"click"],[1,"fab","fa-google","me-2"],["routerLink","/registro",1,"btn","btn-lg","btn-primary"],[1,"error"]],template:function(a,t){a&1&&(e(0,"main",0)(1,"form",1),d("ngSubmit",function(){return t.login()}),e(2,"h1",2),r(3,"Ingresar"),n(),e(4,"div",3)(5,"input",4),f("ngModelChange",function(o){return p(t.mail,o)||(t.mail=o),o}),n(),e(6,"label",5),r(7,"Email"),n()(),e(8,"div",3)(9,"input",6),f("ngModelChange",function(o){return p(t.clave,o)||(t.clave=o),o}),n(),e(10,"label",7),r(11,"Contrase\xF1a"),n()(),e(12,"div")(13,"button",8),d("click",function(){return t.usuarioPorDefecto()}),r(14,"Usuario por defecto"),n(),y(15,A,2,1,"div",9),e(16,"div")(17,"button",10),r(18,"Iniciar sesi\xF3n"),n()()(),e(19,"div",11)(20,"input",12),f("ngModelChange",function(o){return p(t.recordarme,o)||(t.recordarme=o),o}),n(),e(21,"label",13),r(22," Recordarme "),n()(),s(23,"hr"),e(24,"div",14)(25,"button",15),d("click",function(){return t.loginWithGoogle()}),s(26,"i",16),r(27," Iniciar sesi\xF3n con Google "),n()(),s(28,"hr"),e(29,"div",14)(30,"button",17),r(31,"Registrarme"),n()()()()),a&2&&(c(5),u("ngModel",t.mail),c(4),u("ngModel",t.clave),c(6),M("ngIf",t.mensajeError),c(5),u("ngModel",t.recordarme))},dependencies:[T,N,L,x,W,I,F,j,w,P],styles:['.form-signin[_ngcontent-%COMP%]{width:100%;height:100vh;padding:0;background-image:url("./media/medicalutn1-NOQABUCO.jpg");background-size:cover;background-repeat:no-repeat;background-attachment:fixed;background-position:center;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.form-control[_ngcontent-%COMP%]{height:50px;font-size:18px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;height:50px;font-size:18px}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;border-color:#0056b3}.form-floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#495057;font-size:18px}.form-floating[_ngcontent-%COMP%]{margin-bottom:1rem}.estado-registro[_ngcontent-%COMP%], .checkbox[_ngcontent-%COMP%]{margin-top:1rem}.form-signin[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-bottom:1rem;width:100px}a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.error[_ngcontent-%COMP%]{color:red}.exito[_ngcontent-%COMP%]{color:green}.advertencia[_ngcontent-%COMP%]{color:orange}']});let m=l;return m})();export{$ as a};
