<div class="estadisticas-container">
  <h2 class="estadisticas-title">Estadísticas Generales</h2>

  <!-- Cantidad de turnos por especialidad -->
  <div class="estadistica">
    <h3>Cantidad de turnos por especialidad</h3>
    <button class="btn-ver" (click)="obtenerTurnosPorEspecialidad()">Ver Turnos por Especialidad</button>
    <div *ngIf="turnosPorEspecialidad" class="estadisticas-table-container">
      <table class="estadisticas-table">
        <thead>
          <tr>
            <th>Especialidad</th>
            <th>Cantidad</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let especialidad of turnosPorEspecialidad | keyvalue | ordenarDatos: 'key'">
            <td>{{ especialidad.key }}</td>
            <td>{{ especialidad.value }}</td>
          </tr>
        </tbody>
      </table>
      
    </div>
    <div class="estadistica">
      <h3>Cantidad de turnos por especialidad</h3>
      <canvas id="chartEspecialidad" width="1" height="1"  style="border: 1px solid #ccc;"></canvas>
    </div>
  
  </div>

  <!-- Cantidad de turnos por día -->
  <div class="estadistica">
    <h3>Cantidad de turnos por día</h3>
    <button class="btn-ver" (click)="obtenerTurnosPorDia()">Ver Turnos por Día</button>
    <div *ngIf="turnosPorDia" class="estadisticas-table-container">
      <table class="estadisticas-table">
        <thead>
          <tr>
            <th>Día</th>
            <th>Cantidad</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let dia of turnosPorDia | keyvalue | ordenarDatos: 'key'">
            <td>{{ dia.key }}</td>
            <td>{{ dia.value }}</td>
          </tr>
        </tbody>
      </table>
      
    </div>
    <div class="estadistica">
      <h3>Cantidad de turnos por día</h3>
      <canvas id="chartDia" width="1" height="1"style="border: 1px solid #ccc;"></canvas>
    </div>
  
  </div>

  <!-- Cantidad de turnos solicitados por médico -->
  <div class="estadistica">
    <h3>Cantidad de turnos solicitados por médico</h3>
    <button class="btn-ver" (click)="obtenerTurnosPorMedico('solicitados')">Ver Turnos Solicitados</button>
    <div *ngIf="turnosPorMedicoSolicitados" class="estadisticas-table-container">
      <table class="estadisticas-table">
        <thead>
          <tr>
            <th>Médico</th>
            <th>Cantidad</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let medico of turnosPorMedicoSolicitados | keyvalue | ordenarDatos: 'key'">
            <td>{{ medico.key }}</td>
            <td>{{ medico.value }}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="estadistica">
      <h3>Cantidad de turnos solicitados por médico</h3>
      <canvas id="chartMedicoSolicitados" width="1" height="1" style="border: 1px solid #ccc;">></canvas>
    </div>
  </div>

  <!-- Cantidad de turnos finalizados por médico -->
  <div class="estadistica">
    <h3>Cantidad de turnos finalizados por médico</h3>
    <button class="btn-ver" (click)="obtenerTurnosFinalizadosPorMedico('finalizados')">Ver Turnos Finalizados</button>
    <div *ngIf="turnosFinalizadosPorMedico" class="estadisticas-table-container">
      <table class="estadisticas-table">
        <thead>
          <tr>
            <th>Médico</th>
            <th>Cantidad</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let medico of turnosFinalizadosPorMedico | keyvalue | ordenarDatos: 'key'">
            <td>{{ medico.key }}</td>
            <td>{{ medico.value }}</td>
          </tr>
        </tbody>
      </table>
    </div>
    
  <div class="estadistica">
    <h3>Cantidad de turnos finalizados por médico</h3>
    <canvas id="chartMedicoFinalizados" width="1" height="1" style="border: 1px solid #ccc;">></canvas>
  </div>
  </div>

  
 
  

  <!-- Botones de descarga -->
  <div class="estadistica">
     
    <button class="btn-descargar" (click)="descargarEstadisticasPDF()">Descargar todas las estadísticas en PDF</button>
    <button class="btn-descargar"  (click)="descargarEstadisticasExcel()">Descargar todas las estadísticas en Excel</button>
  </div>
</div>
