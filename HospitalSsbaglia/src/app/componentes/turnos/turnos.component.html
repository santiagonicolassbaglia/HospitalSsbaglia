<div>
  <h2>Mis Turnos</h2>

  <div>
    <label for="filtroEspecialidad">Filtrar por Especialidad:</label>
    <input id="filtroEspecialidad" [(ngModel)]="filtroEspecialidad" (ngModelChange)="filtrarTurnos()">
  </div>

  <div>
    <label for="filtroEspecialista">Filtrar por Especialista:</label>
    <input id="filtroEspecialista" [(ngModel)]="filtroEspecialista" (ngModelChange)="filtrarTurnos()">
  </div>

  <ul>
    <li *ngFor="let turno of turnosFiltrados">
      <p>Especialidad: {{ turno.especialidad }}</p>
      <p>Especialista: {{ especialistas[turno.especialista]?.nombre }} {{ especialistas[turno.especialista]?.apellido }}</p>
      <p>Fecha: {{ turno.fecha | date }}</p>
      <p>Estado: {{ turno.estado }}</p>
      <button *ngIf="puedeCancelar(turno)" (click)="cancelarTurno(turno)">Cancelar</button>
      <button *ngIf="puedeCompletarEncuesta(turno)" (click)="completarEncuesta(turno)">Completar Encuesta</button>
      <button *ngIf="puedeCalificarAtencion(turno)" (click)="calificarAtencion(turno)">Calificar Atención</button>
      <button *ngIf="turno.resenia" (click)="verResenia(turno)">Ver Reseña</button>
    </li>
  </ul>
</div>
